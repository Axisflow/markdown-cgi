#include<stdio.h>
#include<stdlib.h>
#include<string.h>

#include "md4c/md4c-html.h"

static void
process_output(const MD_CHAR* text, MD_SIZE size, void* userdata)
{
   printf("%.*s", (int)size, text);
   return;
}

void getdir(char *exepath) {
    char *p;
    p = strrchr(exepath, '/');
    if (p != NULL) {
        *p = '\0';
    } else {
        p = strrchr(exepath, '\\');
        if (p != NULL) {
            *p = '\0';
        } else {
            exepath[0] = '\0';
        }
    }
}

int main(int argc, char* argv[], char *envp[]) {
    printf("Content-type: text/html\r\n");
    printf("\r\n");

    char *script_name = getenv("SCRIPT_NAME");
    char *path_translated = getenv("PATH_TRANSLATED");
    char *self_path = argv[0];

    getdir(self_path);
    char* css_file = "md-cgi.css";
    char* js_file = "md-cgi.js";

    printf("<!DOCTYPE HTML>");
    printf("<html>");
    printf("<head>");
    printf("<meta charset=\"utf-8\">");
    printf("<title>%s</title>", script_name);
    printf("<link rel=\"shortcut icon\" href=\"data:image/png;base64,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dJ544omej370o6N3797d0r+AbGs7uI/fMWPG1J9++un6Bz/4QccvQ2bjxo2ZNGlSenp6DEb5zklyn2EokzuAQEuq1+sjzjnnnJGvvPJKr9EYGq+88krvOeecM7Jer/vsOUg9PT21qVOnttXrdYPBUB1zmT59uvgDAQjQvLZt2zbq7LPP3tnb2+uO+SDr7e3tO/vss3du27ZtlNEYGOvXrz/kuuuus5yWITF//vxs3LjRQIAABGhujz/++Nj58+dvNxKDfvG4/fHHHx9rJAbWl7/85UMee+yxHUaCwbRq1Sp7/6Ag9gCWyx0N+j9AWnwP4M/tweq7++67X5s8efJhjoyBd88992yfMmXK2J/+zHH8DdzH71FHHbV748aNecc73uHuKgNu69atOf7449PZ2WkwWos9gAVzBxAgaZs5c+bYZ599do+hGFjPPvvsnpkzZ/5M/DGwtmzZMuqiiy7yec6gmDFjhvgDAQhQnu7u7razzjprRHd3t8EYuDHN3jEVf4NsxYoVI//sz/7MQDCgFi5cmNWrVxsIEIAAZdq0aVM6OjoMxADp6OjIpk2bDMQQ+dznPpcf/vCHBoIBsWHDhnzxi180ECAAAcq2YsWKLFiwwEAcpAULFmTFihUGYgh1d3dn2rRp8WoIBuJYmj59umMJBCBAa7jhhhssezoIq1evzg033GAghsG6dety7bXXGggOyty5c/P8888bCCiUfRnl8hRQ+j9APIWx3/9+woQJWb9+fY466igHy37YsmVLTjrppLd8aITjb/A+fmu1WlavXp2PfexjDkj227333pvJkycbCDwFtGDuAAK8gc7OzrS3t1sCtR/q9Xra29s9MbAC83DhhRemq6vLYLBfXn755VxyySUGAgQgQGtat25dLrvsMgOxjy677LKsW7fOQFTASy+9lEsvvdRAsM/q9XpmzJjhFwcgAAFa29e+9rV84xvfMBBv4Rvf+Ea+9rWvGYgKueuuu7J8+XIDwT656aabsmbNGgMBLcAewHLZA0j/B4g9WPv8vx03blwee+yxnHjiiQ6cN7Bhw4aceuqp2Z93KDr+hubjd9y4cXnmmWcyceJEBypvau3atTn11FMteeen2QNYMHcAAd5Cd3d32tvbLY16A11dXWlvb9+v+GNoj12P88cxAghAgP20efPmTJs2zUD8nGnTpmXz5s0GosLWrl2b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Hnnkkdx0000GAhCAAK1myZIl+7S07o477siSJUsMGMNq7dq1uf766w3EQejq6soFF1wgpIFB4yEw5fIQGPo/QDyEo2l+1rd6SXxVX/bu+Cvj+NtftVotjz32WD784Q870R6AKVOmeIIvVeAhMAVzBxCg4rq7u9Pe3v6GgdfffwfDwcNLDtyyZcvEHyAAAUg2bdqUjo6Of/Wfd3R0ZNOmTQaIStm8eXNmz55tIPbD97///f3a8wsgAAEKt2LFitx4443/69/feOONWbFihYGhkpYvX+7dgPuoXq9n2rRp7poCQ8IewHLZA0j/B4g9WE35c9dqtfzN3/xNkuT3fu/3mvZBEY6/1vj4HT9+fNavX5+JEyc66fZj3rx5WbRokYGgSuwBFIAIQASgC/CqmDBhwu4k6ezsHOX4c/xV3cc//vGe1atXj2praxvpzPuvrV69OqeffrqBQAAyZCwBBWgynZ2do5o5/mgtDz/88JivfvWru4zEG/6z/IZ7ewEEIADQtK6++urRTz/99E4j8bNmzpyZbdu2GQhAAAIA5ajX6yMnT57c19PT4+3me9166619q1atMhCAAAQAyvPCCy+MmTt3rruASX7wgx/snDdvXq+RAAQgAFCspUuXjv32t7/d08pjsHv37t69d0NrjghAAAIAJWu78MILR/74xz9u2YfCXHXVVTufeeaZMQ4FQAACAMXr7Owc1dHR0ZLLHx966KEdN998s/gDBCAA0Dq+853vHPqnf/qn21ssfHefd955I117AQIQAGg5V1555ehnn322ZR4Kc8EFF+zq7OwcbeYBAQgAtJx6vT5q2rRpbbt27dpT+p918eLFrz344IOHmXVAAAIALeuZZ54Z/YUvfKHou4Df+973dn3+858fZbYBAQgAtLybb775kIceemhHiX+2np6e+pQpU1Kv1wUgIAABAJKMOO+880b85Cc/Ke7VEHPnzt353HPP2fcHCEAAgNd1dnYecvHFFxe1F3DlypWvLV26dKzZBQQgAMDP+eY3vznmtttue62EP8u2bdt2z5gxo5akzcwCAhAA4A1cccUVo1944YWeZv4z9PX19Z5//vm9XV1dln4CAhAA4M309PTUpk6dOmL37t29zfpn+MpXvtLz8MMPjzGbgAAEAHgL69evH33NNdc05V3Ap556queaa64Rf0ClWZterj5DQL8HSF9rHyJtbU5/jj/HX4X1PvLII7s/+tGPNk1Mvfbaa3uOPfbYXS+++KIApATnJLnPMJTJHUAAoGpGnn/++bWurq7dzfIDf/azn90h/gABCABwALZs2VK75JJLmiIA77777tduv/32w8waIAABAA7QvffeO/b222/vrnio1i+++OKa2QIEIADAQZozZ86hL7744s4q/mx79uzZM3Xq1N3d3d1e+QAIQACAg9Xd3T1y6tSpfb29vZV7ctCCBQt2PP7444eaJUAAAgAMkCeffHLMDTfcsKNKP9PatWt3/PEf//FYswM0G8+hLpfXQND/AeIx/A4Cx5/jr4nUarW+Rx99dOcpp5wy7E/afPXVV3t//dd/vf7yyy8fYmYolNdAFMwdQACg8ur1etvUqVPbXn311d7h/llmzZrVI/4AAQgAMIhefvnlQz71qU8N61LQv/iLv9h+1113eeUDIAABAAbbnXfeOe6v/uqveobje7/44os7P/OZz3jZOyAAAQCGyic/+cmRW7ZsqQ/l9+zt7e2bPHlyb3d390gzAAhAAIAh0t3dPWrq1Km79+zZs2eovud111332lNPPeWpn4AABAAYao8//vihN9544/ah+F6PPvpoz5e+9CVLP4EieA51ubwGgv4PEI/hdxA4/hx/Ta5Wq+15/PHHd06aNGnQXsbe1dVVP+aYY3q3bt3qqZ+0Eq+BKPncaQgAGGo7duzYNpzfv6enZ7jv5ox3FBy8er0+YurUqSM2bty4Z+zYsYOyqumiiy7atXXrVks/AQEINDd3IBhOY8eOPcIoMBBefPHFQz772c9u//M///MBfzXD17/+9e3333+/Vz4AZV0DGoJiWQIKQMv467/+6x3t7e0DthT0Bz/4wc4TTjhhZE9Pj1+W04osAS2Yh8AAAE3v4osvHvWjH/1o50B8rd27d/dOnjy5T/wBAhAAoIK6urpq06dP7+3r6+s92K911VVX7XzmmWc89RMQgAAAVfXoo4+O/epXv7r7YL7GQw89tOPmm28Wf0Cx7AEslz2AALScWq3Wu27dut4TTjhh9P7+fzs7O3cfffTRfZ2dnaONJC3OHsCCuQMIABSjXq+PnDJlyp4dO3bs91LQCy64YJf4AwQgAEATeeGFF8ZceeWV+/VAmMWLF7/24IMPeuUDUDxLQMtlCSgALf05uHLlytfOOOOMt4y6733ve7tO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\" />");
    printf("</head>");
    printf("<body>");
    printf("<style>");

    char* css_all_path = malloc(strlen(self_path) + strlen(css_file) + 1);
    strcpy(css_all_path, self_path);
    strcat(css_all_path, "/");
    strcat(css_all_path, css_file);
    FILE* css_file_ptr = fopen(css_all_path, "r");
    free(css_all_path);
    if (css_file_ptr != NULL) {
        char c;
        while ((c = fgetc(css_file_ptr)) != EOF) {
            putchar(c);
        }
        fclose(css_file_ptr);
    }

    printf("</style>");
    printf("<main>");

    FILE *mdfile = fopen(path_translated, "r");
    if (mdfile == NULL)
    {
        printf("Error while opening the file.\n");
        printf("</main>");
        printf("</body>");
        printf("</html>");
        return 404;
    }

    fseek(mdfile, 0, SEEK_END);
    MD_SIZE size = ftell(mdfile);
    rewind(mdfile);
    MD_CHAR* buffer = malloc(size * sizeof(char));
    fread(buffer, sizeof(char), size, mdfile);
    fclose(mdfile);

    unsigned parser_flags = MD_DIALECT_COMMONMARK;
    unsigned renderer_flags = MD_DIALECT_GITHUB;

    md_html(buffer, size, process_output, NULL, parser_flags, renderer_flags);

    printf("</main>");
    printf("<script type=\"text/javascript\">");

    char* js_all_path = malloc(strlen(self_path) + strlen(js_file) + 1);
    strcpy(js_all_path, self_path);
    strcat(js_all_path, "/");
    strcat(js_all_path, js_file);
    FILE* js_file_ptr = fopen(js_all_path, "r");
    free(js_all_path);
    if (js_file_ptr != NULL) {
        char c;
        while ((c = fgetc(js_file_ptr)) != EOF) {
            putchar(c);
        }
        fclose(js_file_ptr);
    }

    printf("</script>");
    printf("</body>");
    printf("</html>");
    return 0;
}